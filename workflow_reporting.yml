- 
  name: Palette Insight - Reporting {{Version}}
  query: set application_name = 'Palette Insight - Reporting {{Version}}'
- 
  name: Set search_path to {{Schema}}
  query: set search_path={{Schema}}
- 
  name: Log datamodel version
  query: select first_value(version_number) over (order by id desc) as model_version from db_version_meta v limit 1
#PI_Report_p_threadinfo_new
- 
  name: p_threadinfo - manage_partitions
  query: select manage_partitions('{{Schema}}', 'p_threadinfo')
- 
  name: load_p_threadinfo
  query: select load_p_threadinfo('{{Schema}}', 'DELTA')
#Report_truncate_s_serverlogs
- 
  name: truncate table s_serverlogs
  query: truncate table s_serverlogs

#Report_load_s_serverlogs_rest
- 
  name: load_s_serverlogs_rest
  query: select load_s_serverlogs_rest('{{Schema}}')

#Report_load_s_serverlogs_vizql
-
  name: load_s_serverlogs_vizql
  query: select load_s_serverlogs_vizql('{{Schema}}')

#Report_load_s_serverlogs_dataserver
-
  name: load_s_serverlogs_dataserver
  query: select load_s_serverlogs_dataserver('{{Schema}}')

#Report_load_s_serverlogs_tabproto
-
  name: load_s_serverlogs_tabproto
  query: select load_s_serverlogs_tabproto('{{Schema}}')

#Report_load_s_serverlogs_tdeserver
-
  name: load_s_serverlogs_tdeserver
  query: select load_s_serverlogs_tdeserver('{{Schema}}')

#Report_load_p_serverlogs
-
  name: p_serverlogs - manage_partitions
  query: select manage_partitions('{{Schema}}', 'p_serverlogs')
-
  name: delete_recent_records_from_p_serverlogs
  query: select delete_recent_records_from_p_serverlogs('{{Schema}}')
-
  name: insert_p_serverlogs_from_s_serverlogs
  query: select insert_p_serverlogs_from_s_serverlogs('{{Schema}}')

#PI_Report_p_http_requests_new
-
  name: truncate table p_http_requests
  query: truncate table p_http_requests
-
  name: load_p_http_requests
  query: select load_p_http_requests('{{Schema}}')

#PI_Report_s_http_requests_with_workbooks_new
-
  name: truncate table s_http_requests_with_workbooks
  query: truncate table s_http_requests_with_workbooks
-
  name: load_s_http_requests_with_workbooks
  query: select load_s_http_requests_with_workbooks('{{Schema}}')

#PI_Report_p_background_jobs
-
  name: truncate table p_background_jobs
  query: truncate table p_background_jobs
-
  name: select load_p_background_jobs
  query: select load_p_background_jobs('{{Schema}}')

#Report_truncate_s_serverlogs_compressed
-
  name: truncate table s_serverlogs_compressed
  query: truncate table s_serverlogs_compressed

#Report_load_s_serverlogs_vizql_compressed
-
  name: load_s_serverlogs_vizql_compressed
  query: select load_s_serverlogs_vizql_compressed('{{Schema}}')

#Report_load_s_serverlogs_tabproto_compressed
-
  name: load_s_serverlogs_tabproto_compressed
  query: select load_s_serverlogs_tabproto_compressed('{{Schema}}')

#Report_load_s_serverlogs_dataserver_compressed
-
  name: load_s_serverlogs_dataserver_compressed
  query: select load_s_serverlogs_dataserver_compressed('{{Schema}}')

#Report_tuncate_s_cpu_usage
-
  name: truncate table s_cpu_usage
  query: truncate table s_cpu_usage

#Report_load_s_cpu_usage_vizql
-
  name: load_s_cpu_usage_vizql
  query: select load_s_cpu_usage_vizql('{{Schema}}')

#Report_load_s_cpu_usage_dataserver
-
  name: load_s_cpu_usage_dataserver
  query: select load_s_cpu_usage_dataserver('{{Schema}}')

#Report_load_s_cpu_usage_tabproto
-
  name: load_s_cpu_usage_tabproto
  query: select load_s_cpu_usage_tabproto('{{Schema}}')

#Report_load_s_cpu_usage_rest
-
  name: load_s_cpu_usage_rest
  query: select load_s_cpu_usage_rest('{{Schema}}')

#Report_load_s_cpu_usage_tdeserver
-
  name: load_s_cpu_usage_tdeserver
  query: select load_s_cpu_usage_tdeserver('{{Schema}}')

#Report_load_p_cpu_usage
-
  name: p_cpu_usage - manage_partitions
  query: select manage_partitions('{{Schema}}', 'p_cpu_usage')
-
  name: p_cpu_usage - load_from_stage_to_dwh
  query: select load_from_stage_to_dwh('{{Schema}}', 'p_cpu_usage')

#PI_Report_p_cpu_usage_report_new
-
  name: truncate table s_cpu_usage_report
  query: truncate table s_cpu_usage_report
-
  name: load_s_cpu_usage_report
  query: select load_s_cpu_usage_report('{{Schema}}' )
-
  name: p_cpu_usage_report - manage_partitions
  query: select manage_partitions('{{Schema}}', 'p_cpu_usage_report')
-
  name: p_cpu_usage_report - load_from_stage_to_dwh
  query: select load_from_stage_to_dwh('{{Schema}}', 'p_cpu_usage_report')

#Report_load_p_cpu_usage_agg_report
-
  name: truncate table s_cpu_usage_agg_report
  query: truncate table s_cpu_usage_agg_report
-
  name: load_s_cpu_usage_agg_report
  query: select load_s_cpu_usage_agg_report('{{Schema}}')
-
  name: p_cpu_usage_agg_report - manage_partitions
  query: select manage_partitions('{{Schema}}', 'p_cpu_usage_agg_report')
-
  name: p_cpu_usage_agg_report - load_from_stage_to_dwh
  query: select load_from_stage_to_dwh('{{Schema}}', 'p_cpu_usage_agg_report')

#Report_load_p_interactor_session
-
  name: truncate table s_interactor_session
  query: truncate table s_interactor_session
-
  name: load_s_interactor_session
  query: select load_s_interactor_session('{{Schema}}')
-
  name: p_interactor_session - manage_partitions
  query: select manage_partitions('{{Schema}}', 'p_interactor_session')
-
  name: p_interactor_session - load_from_stage_to_dwh
  query: select load_from_stage_to_dwh('{{Schema}}', 'p_interactor_session')
-
  name: handle_utc_midnight_interactor_sess
  query: select handle_utc_midnight_interactor_sess('{{Schema}}')

#Report_load_p_process_class_agg_report
-
  name: truncate table s_process_class_agg_report
  query: truncate table s_process_class_agg_report
-
  name: load_s_process_class_agg_report
  query: select load_s_process_class_agg_report('{{Schema}}')
-
  name: p_process_class_agg_report - manage_partitions
  query: select manage_partitions('{{Schema}}', 'p_process_class_agg_report')
-
  name: p_process_class_agg_report - load_from_stage_to_dwh
  query: select load_from_stage_to_dwh('{{Schema}}', 'p_process_class_agg_report')

#Report_load_p_serverlogs_bootstrap_rpt
-
  name: truncate table s_serverlogs_bootstrap_rpt
  query: truncate table s_serverlogs_bootstrap_rpt
-
  name: load_s_serverlogs_bootstrap_rpt
  query: select load_s_serverlogs_bootstrap_rpt('{{Schema}}')
-
  name: p_serverlogs_bootstrap_rpt - manage_partitions
  query: select manage_partitions('{{Schema}}', 'p_serverlogs_bootstrap_rpt')
-
  name: p_serverlogs_bootstrap_rpt - load_from_stage_to_dwh
  query: select load_from_stage_to_dwh('{{Schema}}', 'p_serverlogs_bootstrap_rpt')

#Report_load_p_cpu_usage_bootstrap_rpt
-
  name: truncate table s_cpu_usage_bootstrap_rpt
  query: truncate table s_cpu_usage_bootstrap_rpt
-
  name: load_s_cpu_usage_bootstrap_rpt
  query: select load_s_cpu_usage_bootstrap_rpt('{{Schema}}')
-
  name: p_cpu_usage_bootstrap_rpt - manage_partitions
  query: select manage_partitions('{{Schema}}', 'p_cpu_usage_bootstrap_rpt')
-
  name: p_cpu_usage_bootstrap_rpt - load_from_stage_to_dwh
  query: select load_from_stage_to_dwh('{{Schema}}', 'p_cpu_usage_bootstrap_rpt')
